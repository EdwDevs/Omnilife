
/* styles.css — Mobile-first, accesible y optimizado para dispositivos como Motorola G56-5G
   Explicación breve:
   - Variables CSS para tema y contraste.
   - Tipografía y espaciado pensados para pantallas móviles.
   - Touch targets >= 44px, foco visible y prefer-reduced-motion.
   - Responsive: cambia a tabla en pantallas >= 900px.
   - Uso de safe-area-inset para dispositivos con notch.
*/

/* ========================
   Variables (tema y escala)
   ======================== */
:root{
  /* Colores base — contrastes pensados para WCAG AA */
  --color-bg: #ffffff;
  --color-surface: #f7fbff;
  --color-primary: #0f4a78; /* azul profundo */
  --color-primary-600: #0b3a5d;
  --color-accent: #ff8a00;
  --color-muted: #6b7280;
  --color-success: #16a34a;
  --color-danger: #dc2626;
  --text: #0b1220;
  --text-inverse: #ffffff;
  --border: rgba(15,74,120,0.08);

  /* Tipografía y ritmo */
  --font-family-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  --base-size: 16px; /* importante para inputmode y zoom en móviles */
  --scale-ratio: 1.125;
  --fs-1: calc(var(--base-size) * 1.25); /* 20px */
  --fs-2: calc(var(--base-size) * 1.125); /* 18px */
  --fs-3: var(--base-size); /* 16px */
  --fs-4: calc(var(--base-size) * 0.875); /* 14px */

  --radius-sm: 8px;
  --radius-lg: 14px;
  --gap: 12px;
  --shadow-soft: 0 6px 18px rgba(11,18,32,0.06);
}

/* Safe area for devices con notch / bordes redondeados */
:root {
  padding-top: env(safe-area-inset-top);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  padding-bottom: env(safe-area-inset-bottom);
}

/* Set básico */
* { box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: var(--font-family-system);
  font-size: var(--base-size);
  color:var(--text);
  background: linear-gradient(180deg,var(--color-surface),var(--color-bg));
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.35;
  -webkit-tap-highlight-color: rgba(0,0,0,0);
  text-size-adjust: 100%; /* evitar escalado inesperado en Android */
}

/* Contenedor principal: ancho fluido con max para desktop */
.container{
  width:100%;
  padding: calc(var(--gap) * 0.9);
  max-width: 1080px;
  margin: 0 auto;
}

/* Header */
.header{
  background: linear-gradient(180deg, rgba(15,74,120,0.06), transparent);
  border-bottom: 1px solid var(--border);
  padding: calc(var(--gap) * 0.8) 0;
}
.header-inner{
  display:flex;
  gap:var(--gap);
  align-items:center;
  justify-content:space-between;
}
.app-title{
  display:flex;
  gap:.6rem;
  align-items:center;
  margin:0;
  font-size: var(--fs-1);
}
.app-title i{ font-size:1.15rem; color:var(--color-primary-600); }
.app-subtitle{
  margin:0;
  font-size:var(--fs-4);
  color:var(--color-muted);
}

/* Summary / métricas */
.summary{
  margin: calc(var(--gap) * 0.9) 0;
}
.summary-inner{
  display:flex;
  gap:.75rem;
  justify-content:space-between;
  align-items:center;
}
.summary-item{
  flex:1;
  background:var(--color-bg);
  border-radius: var(--radius-sm);
  padding:.6rem;
  min-height:56px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  box-shadow: var(--shadow-soft);
  border:1px solid var(--border);
}
.summary-label{ font-size:var(--fs-4); color:var(--color-muted); }
.summary-value{ font-size:var(--fs-2); font-weight:700; color:var(--color-primary-600); }

/* Search */
.search-section{ margin: calc(var(--gap) * 0.5) 0; }
.search-container .section-title{ font-size: var(--fs-2); margin:0 0 .5rem 0; }
.search-input-group{
  display:flex;
  gap:.5rem;
  align-items:center;
}
.search-input-group input[type="search"]{
  flex:1;
  padding:.7rem .9rem;
  font-size:var(--fs-3);
  border-radius: var(--radius-sm);
  border:1px solid var(--border);
  background:linear-gradient(180deg,#fff,#fbfeff);
  min-height:44px; /* touch target mínimo recomendado >=44px */
  outline: none;
}
.search-input-group input[type="search"]::placeholder{ color: #9aa4b2; }

/* Icon buttons junto al input */
.btn-icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width:44px;
  min-height:44px;
  border-radius:10px;
  border:1px solid var(--border);
  background:transparent;
  cursor:pointer;
  font-size:1rem;
}
.btn-icon:active{ transform: translateY(1px); }
.clear-btn i{ color:var(--color-danger); }
.search-btn i{ color:var(--color-primary-600); }

/* Calculator */
.calculator-container{
  background:var(--color-bg);
  border-radius: var(--radius-lg);
  padding: .85rem;
  box-shadow: var(--shadow-soft);
  border:1px solid var(--border);
}
.calculator-grid{
  display:grid;
  grid-template-columns: 1fr 120px;
  gap:.6rem;
  align-items:end;
}
.calc-input label{ display:block; font-size:var(--fs-4); color:var(--color-muted); margin-bottom:.25rem; }
.calc-input input[type="number"], .calc-input select{
  width:100%;
  padding:.6rem .8rem;
  border-radius:10px;
  border:1px solid var(--border);
  min-height:44px;
  font-size:var(--fs-3);
  background: #fff;
}
.calc-actions .btn{ min-height:44px; padding:.5rem .8rem; }

/* Buttons — Primary y secundary */
.btn{
  display:inline-flex;
  gap:.5rem;
  align-items:center;
  justify-content:center;
  border-radius:10px;
  padding:.6rem .9rem;
  font-weight:600;
  font-size:var(--fs-4);
  cursor:pointer;
  border:1px solid transparent;
}
.btn.primary{
  background: var(--color-primary);
  color: var(--text-inverse);
  box-shadow: 0 8px 18px rgba(15,74,120,0.12);
  border-color: rgba(11,58,92,0.12);
}
.btn.secondary{
  background: transparent;
  color: var(--color-primary-600);
  border:1px solid var(--border);
}

/* Resultados (ocultos hasta calcular) */
.results-container{ margin-top: .75rem; }
.results-grid{
  display:grid;
  grid-template-columns: repeat(2,1fr);
  gap:.6rem;
}
.result-card{
  background:linear-gradient(180deg,#fff,#fbfeff);
  border-radius:10px;
  padding:.6rem;
  border:1px solid var(--border);
  box-shadow: 0 8px 22px rgba(11,18,32,0.04);
  min-height:80px;
}
.result-header{ display:flex; gap:.5rem; align-items:center; }
.result-header i{ font-size:1.05rem; color:var(--color-primary-600); }
.result-value{ font-size: var(--fs-1); font-weight:700; margin-top:.25rem; }
.result-subtitle{ font-size:var(--fs-4); color:var(--color-muted); }

/* Products table responsive */
.table-wrapper{
  margin-top: calc(var(--gap) * 0.8);
  overflow: auto;
  background: transparent;
}
.products-table{
  width:100%;
  border-collapse:collapse;
  font-size:var(--fs-4);
  min-width:700px; /* en mobile se puede desplazar horizontalmente */
}
.products-table thead th{
  text-align:left;
  padding:.6rem .5rem;
  font-size:var(--fs-4);
  color:var(--color-muted);
  border-bottom:1px solid var(--border);
}
.products-table tbody td{
  padding:.6rem .5rem;
  border-bottom:1px dashed rgba(11,18,32,0.03);
}

/* Cards wrapper (móvil): se muestra cuando view cambia a cards */
.cards-wrapper{ display:grid; gap:.6rem; margin-top:.6rem; }
.product-card{
  background:linear-gradient(180deg,#fff,#fbfeff);
  border-radius:10px;
  padding:.6rem;
  border:1px solid var(--border);
  box-shadow: var(--shadow-soft);
  display:flex;
  justify-content:space-between;
  gap:.5rem;
  align-items:center;
}

/* Footer */
.footer{
  margin-top:1rem;
  padding: .75rem 0;
  text-align:center;
  font-size:var(--fs-4);
  color:var(--color-muted);
}

/* Focus y accesibilidad */
:focus{
  outline: none;
}
a:focus, button:focus, input:focus, select:focus, textarea:focus{
  box-shadow: 0 0 0 4px rgba(15,74,120,0.12);
  border-color: var(--color-primary-600);
  border-radius:8px;
}

/* Visually hidden util (en caso no se incluyera en HTML) */
.visually-hidden{ position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; border:0; padding:0; margin:-1px; }

/* Prefer reduced motion */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; animation:none !important; }
}

/* Responsive: adaptaciones para pantallas >= 900px (tablet/desktop) */
@media (min-width:900px){
  .calculator-grid{ grid-template-columns: 1fr 220px; }
  .results-grid{ grid-template-columns: repeat(4,1fr); }
  .cards-wrapper{ display:none !important; }
  .table-wrapper{ overflow:visible; }
  .products-table{ min-width: auto; }
}

/* Ajustes para pantallas muy pequeñas (motorola G56 ~ ancho visual ~ 360-412 CSS px) */
@media (max-width: 420px){
  :root{ --gap:10px; --radius-sm:10px; }
  .app-title{ font-size: var(--fs-2); }
  .search-input-group input[type="search"]{ padding:.6rem .7rem; }
  .calculator-grid{ grid-template-columns: 1fr; }
  .calc-actions{ width:100%; display:flex; gap:.5rem; }
  .results-grid{ grid-template-columns: repeat(2,1fr); }
  .products-table{ font-size:14px; }
}

/* Dark mode support (opcional) */
@media (prefers-color-scheme: dark){
  :root{
    --color-bg: #071022;
    --color-surface: #071824;
    --text: #e6eef8;
    --text-inverse: #071022;
    --border: rgba(255,255,255,0.06);
  }
  body{ background: linear-gradient(180deg,var(--color-surface),var(--color-bg)); }
  .btn.primary{ box-shadow: 0 8px 20px rgba(0,0,0,0.4); }
}
