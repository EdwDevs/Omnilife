/* -------------------------------------------------
   VARIABLES DE DISEÑO
   ------------------------------------------------- */
:root {
    /* Paleta principal */
    --primary:      #1e3a8a;   /* azul oscuro */
    --primary‑light:#3b82f6;   /* azul brillante */
    --accent:       #10b981;   /* verde */
    --success:      #059669;   /* verde éxito */
    --warning:      #f59e0b;   /* naranja */
    --danger:       #dc2626;   /* rojo */
    --gray‑dark:    #374151;   /* texto principal */
    --gray‑mid:     #6b7280;   /* texto secundario */
    --gray‑light:   #f3f4f6;   /* fondos claros */
    --white:        #ffffff;

    /* Sombras y transiciones */
    --shadow-sm:    0 4px 6px -1px rgba(0,0,0,.1);
    --shadow-md:    0 10px 15px -3px rgba(0,0,0,.1);
    --radius:       .75rem;
    --duration:     200ms;
    --ease:         cubic-bezier(.4,0,.2,1);
}

/* -------------------------------------------------
   RESETEO Y TIPOGRAFÍA
   ------------------------------------------------- */
*,
*::before,
*::after { box-sizing:border-box; margin:0; padding:0; }

html { font-size:100%; scroll-behavior:smooth; }

body {
    font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', sans-serif;
    line-height:1.6;
    background:linear-gradient(135deg,var(--gray‑light),#e5e7eb);
    color:var(--gray‑dark);
}

/* Contenedor principal (centrado y con padding lateral) */
.container {
    max-width:960px;
    margin:auto;
    padding:1rem;
}

/* -------------------------------------------------
   HEADER
   ------------------------------------------------- */
header.header {
    background:linear-gradient(135deg,var(--primary),var(--primary‑light));
    color:var(--white);
    padding:1.5rem;
    border-radius:var(--radius);
    box-shadow:var(--shadow-md);
    display:flex;
    flex-direction:column;
    gap:1rem;
    text-align:center;
}

/* Título con icono */
header .app-title {
    font-size:1.5rem;
    font-weight:700;
    display:flex;
    align-items:center;
    gap:.5rem;
}

/* Subtítulo */
header .app-subtitle {
    font-size:.95rem;
    opacity:.9;
}

/* Hora del servidor (actualizada cada minuto) */
header .meta-time {
    font-size:.85rem;
    opacity:.85;
}

/* -------------------------------------------------
   RESUMEN RÁPIDO (stats)
   ------------------------------------------------- */
.summary {
    display:flex;
    flex-wrap:wrap;
    gap:1rem;
    justify-content:center;
    margin:1rem 0;
}
.summary .item {
    flex:1 1 120px;
    background:var(--white);
    border:1px solid var(--gray‑light);
    border-radius:var(--radius);
    padding:.75rem;
    text-align:center;
    box-shadow:var(--shadow-sm);
    transition:transform var(--duration) var(--ease),box-shadow var(--duration) var(--ease);
}
.summary .item:hover { transform:translateY(-4px); box-shadow:var(--shadow-md); }
.summary .label { font-size:.75rem; color:var(--gray‑mid); text-transform:uppercase; }
.summary .value { font-size:1.25rem; font-weight:800; color:var(--primary); margin-top:.25rem; }

/* -------------------------------------------------
   BÚSQUEDA
   ------------------------------------------------- */
.search-section {
    margin-bottom:1.5rem;
}
.search-container {
    background:var(--white);
    padding:1rem;
    border-radius:var(--radius);
    box-shadow:var(--shadow-sm);
    border:1px solid var(--gray‑light);
}
.search-container h2 {
    font-size:1.25rem;
    color:var(--primary);
    margin-bottom:.75rem;
}
.search-input-group {
    position:relative;
}
#searchInput {
    width:100%;
    padding:.75rem 3rem .75rem 1rem;
    border:2px solid var(--gray‑light);
    border-radius:var(--radius);
    font-size:1rem;
    transition:border-color var(--duration) var(--ease),box-shadow var(--duration) var(--ease);
}
#searchInput:focus-visible {
    outline:none;
    border-color:var(--primary‑light);
    box-shadow:0 0 0 3px rgba(59,130,246,.15);
}
.clear-btn,
.search-btn {
    position:absolute;
    top:50%;
    transform:translateY(-50%);
    background:transparent;
    border:none;
    color:var(--gray‑mid);
    cursor:pointer;
    padding:.4rem;
    border-radius:.5rem;
    transition:color var(--duration) var(--ease);
}
.clear-btn:hover,
.search-btn:hover { color:var(--danger); }
.clear-btn { right:2.5rem; }
.search-btn { right:.5rem; }

/* Resultados de búsqueda */
.search-results {
    max-height:260px;
    overflow-y:auto;
    border:1px solid var(--gray‑light);
    border-radius:var(--radius);
    background:var(--white);
    margin-top:.5rem;
    display:none;
}
.search-result-item {
    padding:.75rem;
    border-bottom:1px solid var(--gray‑light);
    cursor:pointer;
    transition:background var(--duration) var(--ease);
}
.search-result-item:last-child { border-bottom:none; }
.search-result-item:hover,
.search-result-item.focus {
    background:var(--gray‑light);
}
.result-code   { font-weight:600; color:var(--primary); }
.result-desc   { margin:.25rem 0; color:var(--gray‑dark); }
.result-price  { font-size:.85rem; color:var(--accent); font-weight:600; }

/* -------------------------------------------------
   CALCULADORA
   ------------------------------------------------- */
.calculator-section { margin-bottom:1.5rem; }
.calculator-container {
    background:var(--white);
    padding:1.5rem;
    border-radius:var(--radius);
    box-shadow:var(--shadow-sm);
    border:1px solid var(--gray‑light);
}
.calculator-container h2 {
    font-size:1.25rem;
    color:var(--primary);
    margin-bottom:1rem;
}
.calculator-grid {
    display:grid;
    gap:1rem;
    grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
}
.calc-input label {
    display:block;
    margin-bottom:.35rem;
    font-weight:600;
    color:var(--gray‑dark);
}
.calc-input select,
.calc-input input {
    width:100%;
    padding:.6rem;
    border:2px solid var(--gray‑light);
    border-radius:var(--radius);
    font-size:1rem;
    transition:border-color var(--duration) var(--ease),box-shadow var(--duration) var(--ease);
}
.calc-input select:focus-visible,
.calc-input input:focus-visible {
    outline:none;
    border-color:var(--primary‑light);
    box-shadow:0 0 0 3px rgba(59,130,246,.15);
}
.calculate-btn {
    background:linear-gradient(135deg,var(--accent),var(--success));
    color:var(--white);
    border:none;
    border-radius:var(--radius);
    padding:.6rem 1rem;
    font-weight:600;
    cursor:pointer;
    transition:transform var(--duration) var(--ease),box-shadow var(--duration) var(--ease);
    box-shadow:var(--shadow-sm);
}
.calculate-btn:hover {
    transform:translateY(-2px);
    box-shadow:var(--shadow-md);
}

/* -------------------------------------------------
   RESULTADOS DE CÁLCULO
   ------------------------------------------------- */
.results-container {
    background:linear-gradient(135deg,var(--white),var(--gray‑light));
    padding:1.5rem;
    border-radius:var(--radius);
    border:1px solid var(--gray‑light);
    box-shadow:var(--shadow-sm);
    animation:fadeIn .4s var(--ease) forwards;
}
.results-container h3 {
    font-size:1.2rem;
    color:var(--primary);
    margin-bottom:1rem;
}
.results-grid {
    display:grid;
    gap:1rem;
    grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
}
.result-card {
    background:var(--white);
    border-left:4px solid var(--primary);
    border-radius:var(--radius);
    padding:1rem;
    box-shadow:var(--shadow-sm);
    text-align:center;
    transition:transform var(--duration) var(--ease);
}
.result-card:hover { transform:translateY(-3px); }
.result-card.cost   { border-left-color:var(--primary‑light); }
.result-card.price  { border-left-color:var(--accent); }
.result-card.profit { border-left-color:var(--warning); }
.result-card.margin { border-left-color:var(--primary); }

.result-header {
    display:flex;
    align-items:center;
    justify-content:center;
    gap:.5rem;
    margin-bottom:.75rem;
}
.result-header i { font-size:1.2rem; }
.result-header h4 {
    font-size:1rem;
    font-weight:600;
    color:var(--gray‑dark);
}
.result-value {
    font-size:1.6rem;
    font-weight:800;
    color:var(--primary);
    margin-bottom:.4rem;
}
.result-subtitle {
    font-size:.85rem;
    color:var(--gray‑mid);
}

/* -------------------------------------------------
   LISTADO DE PRODUCTOS (TABLA)
   ------------------------------------------------- */
.products-section { margin-bottom:1.5rem; }
.products-container {
    background:var(--white);
    padding:1.5rem;
    border-radius:var(--radius);
    box-shadow:var(--shadow-sm);
    border:1px solid var(--gray‑light);
}
.products-container h2 {
    font-size:1.25rem;
    color:var(--primary);
    margin-bottom:1rem;
}
.table-wrapper {
    overflow-x:auto;
    border-radius:var(--radius);
    border:1px solid var(--gray‑light);
}
.products-table {
    width:100%;
    border-collapse:collapse;
    background:var(--white);
}
.products-table th,
.products-table td {
    padding:.75rem;
    text-align:left;
    font-size:.9rem;
}
.products-table th {
    background:linear-gradient(135deg,var(--primary),var(--primary‑light));
    color:var(--white);
    font-weight:600;
}
.products-table tbody tr:hover {
    background:var(--gray‑light);
}
.select-btn {
    background:var(--primary‑light);
    color:var(--white);
    border:none;
    border-radius:.5rem;
    padding:.4rem .8rem;
    font-size:.85rem;
    cursor:pointer;
    transition:background var(--duration) var(--ease),transform var(--duration) var(--ease);
}
.select-btn:hover {
    background:var(--primary);
    transform:translateY(-1px);
}

/* -------------------------------------------------
   VISTA DE TARJETAS (para móvil)
   ------------------------------------------------- */
.cards-wrapper {
    display:grid;
    gap:1rem;
    grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
    margin-top:1rem;
}
.product-card {
    background:var(--white);
    border-radius:var(--radius);
    box-shadow:var(--shadow-sm);
    border:1px solid var(--gray‑light);
    overflow:hidden;
    transition:transform var(--duration) var(--ease),box-shadow var(--duration) var(--ease);
}
.product-card:hover { transform:translateY(-4px); box-shadow:var(--shadow-md); }
.card-header {
    background:linear-gradient(135deg,var(--primary),var(--primary‑light));
    color:var(--white);
    padding:.75rem;
}
.card-header .product-name { font-weight:600; }
.card-header .laboratorio   { font-size:.85rem; opacity:.9; }
.card-body {
    padding:.75rem;
    display:flex;
    flex-direction:column;
    gap:.5rem;
}
.card-row {
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.card-label { font-size:.85rem; color:var(--gray‑mid); }
.card-value { font-weight:600; }
.card-value.price { color:var(--accent); }
.card-value.stock { font-size:1rem; }

/* -------------------------------------------------
   FOOTER
   ------------------------------------------------- */
footer.footer {
    background:var(--gray‑dark);
    color:var(--white);
    text-align:center;
    padding:1.5rem;
    border-radius:var(--radius);
    margin-top:2rem;
}

/* -------------------------------------------------
   UTILIDADES
   ------------------------------------------------- */
.hidden { display:none !important; }
.text-success { color:var(--success) !important; }
.text-warning { color:var(--warning) !important; }
.text-danger  { color:var(--danger)  !important; }
.text-muted   { color:var(--gray‑mid) !important; }

/* -------------------------------------------------
   ANIMACIONES
   ------------------------------------------------- */
@keyframes fadeIn {
    from { opacity:0; transform:translateY(10px); }
    to   { opacity:1; transform:translateY(0); }
}

/* -------------------------------------------------
   RESPONSIVE (mobile‑first)
   ------------------------------------------------- */
@media (min-width:600px) {
    header.header { flex-direction:row; justify-content:space-between; text-align:left; }
    .summary { justify-content:flex-start; }
}
@media (min-width:768px) {
    .calculator-grid { grid-template-columns:2fr 1fr auto; }
    .results-grid    { grid-template-columns:repeat(4,1fr); }
    .cards-wrapper   { display:none; }          /* solo tabla en escritorio */
    .table-wrapper   { display:block; }
}
@media (max-width:599px) {
    .cards-wrapper   { display:grid; }          /* tabla oculta en móvil */
    .table-wrapper   { display:none; }
}

/* -------------------------------------------------
   ENFOQUE VISUAL (teclado)
   ------------------------------------------------- */
button:focus-visible,
select:focus-visible,
input:focus-visible,
a:focus-visible {
    outline:2px solid var(--primary‑light);
    outline-offset:2px;
}
